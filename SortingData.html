<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SortingData</title>
</head>
<body>
    <script>
        var BR = "<br>";    //HTML
        var ARRAYSIZE = 1000;   //array size
        var maxElement;     //the max element of ary
        var index, index2;  //loop counters
        var temp;           //swap variable
        var operationCount = 0; //counter

        //1. Declare and initialize string array
        var someStrings = new Array(ARRAYSIZE);
        var stringValue = "";   //random string
        var randomChar;         //random ascii char
        var wordSize;           //random word size

        for(index = 0; index < ARRAYSIZE; index++)
        {
            //Determine a random word length of 5-19 char
            wordSize = Math.floor(Math.random()*15)+5;

            for(index2 = 0; index2 < wordSize; index2++)
            {
                //First character to be A-Z, i.e.
                //ASCII codes 65-90
                if (index2 == 0) {
                    //Option A: Completely random:
                    //randomChar = Math.random() * (91-65) + 65;

                    //Option B: Presorted into 5 "buckets"
                    if (index < (0.2 * ARRAYSIZE)) {
                        randomChar = Math.random() * (70-65) + 65;
                    }
                    else if (index < (0.4 * ARRAYSIZE)) {
                        randomChar = Math.random() * (76-70) + 70;
                    }
                    else if (index < (0.6 * ARRAYSIZE)) {
                        randomChar = Math.random() * (82-76) + 76;
                    }
                    else if (index < (0.8 * ARRAYSIZE)) {
                        randomChar = Math.random() * (87-82) + 82;
                    }
                    else {
                        randomChar = Math.random() * (91-87) + 87;
                    }
                }
                else {
                    //lower case (a-z), 97-122
                    randomChar = Math.random()*(123-97)+97;
                }

                //Build a string from the random characters:
                stringValue +=
                        String.fromCharCode(randomChar);
            }//end for index2

            //Append single string to array:
            someStrings[index] = stringValue;
            stringValue = "";       //reset for next time
        }// end for index

        //Preview the array data before sorting:
        document.write("Before sorting:" + BR);
        for (index=0; index < ARRAYSIZE; index++)
        {
            document.write(someStrings[index] + BR);
        }

        //Apply a bubble sort
        for (maxElement = ARRAYSIZE - 1;
            maxElement > 0; maxElement--)
        {
            for (index = 0; index < maxElement;
                index++)
            {
                if (someStrings[index] >
                    someStrings[index + 1])
                {
                    temp = someStrings[index];
                    someStrings[index] =
                            someStrings[index + 1];
                    someStrings[index + 1] = temp;
                    operationCount++;
                } //end if
            } //end for index
        } //end for maxElement

        document.write(BR + "Operations: ");
        document.write(operationCount + BR + BR);
        document.write("After sorting:" + BR);
        for (index=0; index < ARRAYSIZE; index++)
        {
            document.write(someStrings[index] + BR);
        }


    </script>
</body>
</html>